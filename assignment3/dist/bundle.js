(()=>{"use strict";function e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class t{constructor(t,s){e(this,"subject",void 0),e(this,"body",void 0),this.subject=t,this.body=s}}const s=(e,t)=>{e.hidden=!1,t.hidden=!0},n=document.getElementById("form"),d=document.getElementById("readMessages"),i=document.getElementById("newMessages"),a=document.getElementById("messageBlock"),c=document.getElementById("messageList"),r=document.getElementById("unreadMessages");let o=0;n.addEventListener("submit",(e=>m(e))),d.addEventListener("click",(()=>s(a,n)),!1),i.addEventListener("click",(()=>{s(n,a),n.reset()}),!1),c.addEventListener("click",(e=>{const t=e.target;t.classList.contains("unread")&&(t.classList.remove("unread"),o-=1,u(),l())}));const m=e=>{const d=new FormData(n),i=new t(d.get("subject").toString(),d.get("body").toString());e.preventDefault(),(e=>{const t=document.getElementById("messageList"),s=document.createElement("li");s.innerHTML=`${e.subject} </br> ${e.body}`,s.classList.add("message"),s.classList.add("unread"),t.appendChild(s)})(i),o+=1,u(),l(),s(a,n),n.reset()},u=()=>{o>0?(r.innerHTML=`you have ${o} messages`,r.hidden=!1):r.hidden=!0},l=()=>{d.innerHTML=`Messages [${o>5?"5+":o} new]`}})();