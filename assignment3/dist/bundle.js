(()=>{"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class t{constructor(t,n){e(this,"subject",void 0),e(this,"body",void 0),this.subject=t,this.body=n}}const n=(e,t)=>{e.hidden=!1,t.hidden=!0},s=document.getElementById("form"),d=document.getElementById("readMessages"),a=document.getElementById("newMessages"),c=document.getElementById("messageBlock"),i=document.getElementById("messageList"),r=document.getElementById("unreadMessages");let o=0;s.addEventListener("submit",(e=>l(e))),d.addEventListener("click",(()=>n(c,s)),!1),a.addEventListener("click",(()=>{n(s,c),s.reset()}),!1),i.addEventListener("click",(e=>{const t=e.target;(t.classList.contains("unread")||t.parentElement.classList.contains("unread"))&&(t.classList.contains("unread")?t.classList.remove("unread"):t.parentElement.classList.remove("unread"),o-=1,m(),u())}));const l=e=>{const d=new FormData(s),a=new t(d.get("subject").toString(),d.get("body").toString());e.preventDefault(),(e=>{const t=document.getElementById("messageList"),n=document.createElement("li"),s=document.createElement("h1"),d=document.createElement("span");d.innerHTML=e.body,s.innerHTML=e.subject,n.appendChild(s),n.appendChild(d),n.classList.add("message"),n.classList.add("unread"),t.appendChild(n)})(a),o+=1,m(),u(),n(c,s),s.reset()},m=()=>{o>0?(r.innerHTML=`you have ${o} messages`,r.hidden=!1):r.hidden=!0},u=()=>{d.innerHTML=`Messages [${o>5?"5+":o}]`}})();